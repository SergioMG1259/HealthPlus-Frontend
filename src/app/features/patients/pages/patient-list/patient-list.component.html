<section class="flex top">
    <div class="left">
        <form class="flex">
            <input type="search" placeholder="Search" class="search-bar" name="search" [(ngModel)]="this.inputSearch">
            <button mat-mini-fab color="primary" class="custom-button-icon" 
                aria-label="search patient by name" (click)="onClickSearch()">
                <mat-icon>search</mat-icon>
            </button>
        </form>
    </div>
    <div class="flex right">
        <mat-form-field appearance="outline" class="small dropdown">
            <mat-label>Order by</mat-label>
            <mat-select disableOptionCentering placeholder="Order by" [ngModel]="this.orderBy" 
            (ngModelChange)="this.changeOrderBy($event)">
              <mat-option value="default">Default</mat-option>
              <mat-option value="age asc">Younger to older</mat-option>
              <mat-option value="age dsc">Older to younger</mat-option>
              <mat-option value="created asc">Created asc</mat-option>
              <mat-option value="created dsc"> Created dsc</mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-flat-button color="accent" class="custom-button" aria-label="open filters" #filterButton 
            (click)="toggleFilter()">
            <mat-icon>filter_list</mat-icon>
            Filter
        </button>
        <button mat-raised-button color="primary" class="add-button" (click)="this.onClickGoToAddPatient()">
            <!-- <mat-icon>add</mat-icon> -->
            Add patient
        </button>
    </div>
</section>

<section class="section-table">
    <!-- <div class="wrapper-dropdown">
        <mat-form-field appearance="outline">
            <mat-label>Toppings</mat-label>
            <mat-select disableOptionCentering placeholder="hola">
              <mat-option >1</mat-option>
              <mat-option >2</mat-option>
              <mat-option >3</mat-option>
            </mat-select>
        </mat-form-field>
    </div> -->

    <div class="wrapper-table">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z0">
              
            <ng-container matColumnDef="patientName">
                <th mat-header-cell *matHeaderCellDef> Patient name </th>
                <td mat-cell *matCellDef="let element"> {{element.patientName}} </td>
            </ng-container>
              
            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef> Gender </th>
                <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
            </ng-container>
              
            <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef> Age </th>
                <td mat-cell *matCellDef="let element"> {{element.age}} </td>
            </ng-container>
              
            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Phone </th>
                <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
            </ng-container>

            <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef> Created at </th>
                <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element"> 
                    <button mat-icon-button aria-label="show actions for patient" [matMenuTriggerFor]="menu">
                        <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item class="custom-button-menu" (click)="this.onClickGoToPatientDetails()">
                          <mat-icon>find_in_page</mat-icon>
                          <span>View details</span>
                        </button>
                        <button mat-menu-item class="custom-button-menu delete-button">
                          <mat-icon>delete</mat-icon>
                          <span>Delete</span>
                        </button>
                    </mat-menu>
                </td>
            </ng-container>
              
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <mat-paginator pageSize="10"
        appCustomPaginator [appCustomLength]="this.dataSource.data.length" 
        (page)="changePage($event)" [pageIndex]="this.pageIndex"
        aria-label="Select page of patients list">
    </mat-paginator>
</section>
